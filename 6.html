<!DOCTYPE html>
<html>
<head>
	<title>México</title>
	<meta charset="utf-8" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="css/leaflet.css"/>
<style>
	html, body {
		height: 100%;
	}
	
	 #map { position:absolute; top:0; bottom:0; width:100%; }
    .mapbox-maplogo {
      position:absolute;
      display:block;
      height: 20px;
      width: 65px;
      left:10px;
      bottom:10px;
      text-indent: -9999px;
      z-index:99999;
      overflow:hidden;
      background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIIAAAAoCAMAAAAFWtJHAAAAwFBMVEUAAAAAAAAAAABtbW0AAAAAAAAAAAAAAAAAAAAAAAClpaUAAADp6ekAAAD5+fna2toAAAAMDAzv7+/Nzc0AAAA2Njb8/Pz9/f3T09MAAAAAAAD7+/sAAAArKyuxsbH39/fs7OwbGxuIiIjz8/N8fHyenp7u7u74+PgAAAC8vLxWVlbx8fF1dXXl5eVcXFyUlJTQ0NDFxcVCQkLAwMC4uLj19fXo6OjW1tarq6ve3t77+/vi4uL6+vrKysrNzc3///8w7gSSAAAAP3RSTlMAOQNdPSYBPywKexLLGPCxNEHXnzFL+v2nGwf1IEiE6dBFad9jd9PuLo1V2mDDV3Cjl06SiuXIq4C3973ym6BQMVUPAAAEXElEQVR4Ae2WCVP6OBiH05L0l1IqrVbkKHJ54I0oHn+PfP9vtUle0z/YdhbH2XVnd58ZnRJIeHiPJOx//mH4vQSAN+8FjAhFxgHIaPvJeZ99hxwEElon5iAQbj85Y98g8ODwjEOMAvGFyeE3FEKgodTBqj0BJGN9DhyNd5Ta3ean9QEopfaA+LsKhnEKRExqg4FSP6Og7oEkAjBWnxSCgBX4xF+kcLoPcOBQrSv0e5kH7s1j37jECQieCTPiFGxL5VHw2zQWCeeJiPt6kjRQw0XSkIdVChf67xGa4alSnZlT6HEQ8CK9ANbhvXUF9xlDkBfTuHDWScgC9+z5FQpPI12TlwC6+sV7ixR8CUMKiwjm2GQeOQWHMGuHGdbnObJAwCEqFJpNU5H6uaPUaEIKiQfg+PHk1+u4OwW9PlWW2ctbA4BHCtp+cNK+H8Jos4gDmC5ar4Nx9waaG/2B13NgDqS7+vm2RgEtEws82P+kwIHhs/pgkQKcFIhfd7CogtGNjYMHTLpurD0ERbYFw4JaD3GlQuNAL/JEsSAF4HqlCnaHACk4WhOn4OgCkMD5hSpYNYDJTD8Y46n+jsE1kPhVCuR6QBXhFK7MUOu9O6b1SWF3b+/9ZVWMGOlu93E8UDaAhgc7bfH+0DHqKXCkHzoNDFfU+zxiVQrUC9QXTuHYtKpN59OA3IxCG4b7jh6ZFuVockaNTW09mkJzOaPU49a6mE9cAchZpQJNpUWcwgV9r6FJswsFKrITp2B5pMBMdnS0z2HZNy2+BNKxSZxZfglkrFYBJxQnpzA5sN/HheR2aFQoZBLAi149dQoyAYYjW0hHlHguBAdMcR0DuDZ5omevX6+AI8qcU7ikKT3GBHCnXwydgmCC0tRwCnGQ2Wp6Be71yNIWfQSkOl9vAI1SBCNWrwC01RROgX7BuT2HI4r7tFAw086p/NwZEdOEa7R1uAFuNmQPuKAEAjYNQ0CyeoUEWHYBnpQVQgpvc0Ph+gsKlAnKg1+vEHsw5LKciLKCAJobiWBzYFGbCKpHqkZZrxBFHEASyFI59vJPCskcwNVGOWZAOqsrR+pKbaNeAMT1CixMEtlnsqopNxUMzVJT3tY35aXZm6a6Y9QhwMN6BUJWbE1lhbMO1WehkO7poO0sK7em9MJGxp1XSbC1gtugzzSLQmGsX7VntJGSwsPZ2d2z3bIPKzdoOp3Wzqt8G4XyMVUoFIxLx1S7+piaHtCvR3FeRVsq0GFdp9C5TbGpcNqsPqyHKxcfd14h21KhuLKUFU4f3osrC7F6uV3WXFnadL7wyAPeKDXw2RoJCO5GY4DouYvb/gepVXheLoewzPseQG9N/vzilrMIjoStE3++zvle4eSurw7XEe76ynI4aq+v7lEyt1x5awiFlFLQbHKIpabnM3eJLym4Szzzc/du7SU+zOXv9UNpECH7IoH/gecURPlN9vdQpeD47yhIFNX0U0QgvID9nENm+yxk/xb+AGAjNfRZuk9qAAAAAElFTkSuQmCC);
      background-repeat:no-repeat;
      background-position: 0 0 ;
      background-size: 65px 20px;
    }
	
	</style>
</head>
<body>
	<div id="map" style="width: 100%; height: 100%"></div>

	<a href="http://mapbox.com/about/maps" class='mapbox-maplogo' target="_blank">Mapbox</a>
	
	<script src="js/leaflet.js"></script>
	<script src='js/leaflet.markercluster.js'></script>
	<script src="js/leaflet.markercluster.layersupport-src.js"></script>
	<script src="js/leaflet-hash.js"></script>
	<script src="js/leaflet-gps.js"></script>

	<!-- Leaflet.markercluster assets -->
    	
	<link rel="stylesheet" href="css/MarkerCluster.css">    
	<link rel="stylesheet" href="css/MarkerCluster.Default.css">
	<link rel="stylesheet" href="css/leaflet-gps.css">  


	<script>		

		var NemachIcons =L.Icon.extend({
			options:{
				iconSize:		[50,55],
				iconAnchor:		[25,27],
				popupAnchor:	[0,-20]
			}
		});

		var tiloIcon = new NemachIcons({iconUrl:'icons/marknemachtilo003.png'}),
			puebloIcon = new NemachIcons({iconUrl:'icons/pueblomagico.png'}),
			museoIcon = new NemachIcons({iconUrl:'icons/museo.png'}),
			casascIcon = new NemachIcons({iconUrl:'icons/casasdecultura.png'}),
			hospitalIcon= new NemachIcons({iconUrl:'icons/hospital.png'})
			restosIcon = new NemachIcons({iconUrl: 'icons/013.png'}),
			lineaIcon= new NemachIcons({iconUrl:'icons/rutas.png'})
			naturalesIcon = new NemachIcons({iconUrl:'icons/anp.png'});
	
		L.icon =function (options) {
			return new L.Icon(options);
		};
		
		var sitios = new L. LayerGroup();
		
		L.marker([20.947984, -89.762475], {icon:tiloIcon}).bindPopup('<p><strong><center>	Oxcum</center></strong><br>	<strong>Cultura</strong> <br />No determinada<br/> <strong>Descripción</strong><br />Este sitio corresponde a un conjunto de montículos clasificados por Silvia Garza Tarazona González y Edward B. Kurjack en el Atlas Arqueológico del Estado de Yucatán.<br /></p>').addTo(sitios),
		L.marker([20.541, -88.663], {icon:tiloIcon}).bindPopup('<p><strong><center>		Yaxuná</center></strong><br>	<strong>Cultura</strong> <br />Maya <br/> <strong>Descripción</strong><br />El sitio de Yaxuná se destaca por su arquitectura monumental en estilo Puuc y la presencia del sacbé más largo de toda el área maya. Muy cerca de Yaxuná se encuentra el cenote Lol-Ha, que sorprende a cualquiera por su majestuosidad y belleza.<br /></p>').addTo(sitios),
		L.marker([20.683, -88.568], {icon: tiloIcon}).bindPopup('<p><strong><center>		Chichén Itzá</center></strong><br><strong>Cultura</strong><br />Maya <br/> <strong>Descripción</strong><br />Es uno de los sitios arqueológicos más importantes de la Península de Yucatán. Es la ciudad más impresionante del periodo Clásico maya y fue inscrita en la lista del Patrimonio de la Humanidad de la UNESCO.</p>').addTo(sitios),
		L.marker([20.572997, -88.730264], {icon:tiloIcon}).bindPopup('<p><strong><center>	Chechemi</center></strong><br>	<strong>Cultura</strong> <br />Maya<br/> <strong>Descripción</strong><br />  Es un sitio pequeño donde han sido encontrados restos de cerámica y concha. La mayoría de los tepalcates hallados en la zona corresponden al Clásico Tardío, sin embargo, también se han encontrado tepalcates que datan del PreclásicoTardío, el Clásico Terminal y uno del Posclásico Tardío en la superficie. <br /></p>').addTo(sitios);
		
		var areasnaturales = new L.LayerGroup();
		
		L.marker([21.088624,-89.597455], {icon: naturalesIcon}).bindPopup('Dzibilchantún').addTo(areasnaturales),
		L.marker([21.580311,-87.9396], {icon: naturalesIcon}).bindPopup('Playa Río Lagartos').addTo(areasnaturales),
		L.marker([21.517372,-87.827473], {icon: naturalesIcon}).bindPopup('Río Lagartos').addTo(areasnaturales);
		
		var pueblo = new L.LayerGroup();

		L.marker([20.9330, -89.0178], {icon: puebloIcon}).bindPopup('Izamal').addTo(pueblo),
		L.marker([20.6909, -88.2015], {icon: puebloIcon}).bindPopup('Valladolid').addTo(pueblo);

		var museo = new L.LayerGroup();
		
		L.marker([20.6894, -88.2017], {icon: museoIcon}).bindPopup('<p><strong><center>Museo Comunitario Xtepén Aak</center></strong><br><strong>Estado</strong><br>Yucatán<strong><br>Municipio</strong><br>Valladolid<strong><br>Dirección</strong><br>Domicilio conocido s/n Loc. Yaxché. Colonia Centro.</p>').addTo(museo),
		L.marker([21.1425, -88.1647], {icon: museoIcon}).bindPopup('<p><strong><center>Museo Comunitario Ceiba y Amapola</center></strong><br><strong>Estado</strong><br>Yucatán<strong><br>Municipio</strong><br>Tizimín<strong><br>Dirección</strong><br>Calle 31 s/n por 30 Loc. Yaxchekú. Colonia Centro.</p>').addTo(museo),
		L.marker([21.0326, -89.6302], {icon: museoIcon}).bindPopup('<p><strong><center>Gran Museo del Mundo Maya</center></strong><br><strong>Estado</strong><br>Yucatán<strong><br>Municipio</strong><br>Mérida<strong><br>Dirección</strong><br>Calle 60 Norte 299 E. Colonia Unidad Revolución Cordemex.</p>').addTo(museo),
		L.marker([20.3997, -89.2844], {icon: museoIcon}).bindPopup('<p><strong><center>Museo Comunitario Kaan Pepén</center></strong><br><strong>Estado</strong><br>Yucatán<strong><br>Municipio</strong><br>Teabo<strong><br>Dirección</strong><br>Calle 32 s/n x 29 y 31. Colonia Centro.</p>').addTo(museo),
		L.marker([20.5481, -88.8272], {icon: museoIcon}).bindPopup('<p><strong><center>Museo Comunitario Sacbé</center></strong><br><strong>Estado</strong><br>Yucatán<strong><br>Municipio</strong><br>Yaxcabá<strong><br>Dirección</strong><br>Domicilio conocido s/n Yaxunah. Colonia Centro.</p>').addTo(museo),
		L.marker([20.9331, -89.0174], {icon: museoIcon}).bindPopup('<p><strong><center>Museo Comunitario Itzmal Kauil</center></strong><br><strong>Estado</strong><br>Yucatán<strong><br>Municipio</strong><br>Izamal<strong><br>Dirección</strong><br>Calle 31. Colonia Centro Histórico.</p>').addTo(museo),
		L.marker([21.0961, -89.2843], {icon: museoIcon}).bindPopup('<p><strong><center>Museo de Felipe Carrillo Puerto</center></strong><br><strong>Estado</strong><br>Yucatán<strong><br>Municipio</strong><br>Motul<strong><br>Dirección</strong><br>Calle 29 s/n por calle 28. Colonia Centro.</p>').addTo(museo),
		L.marker([20.8592, -90.4], {icon: museoIcon}).bindPopup('<p><strong><center>Museo Comunitario de Celestún</center></strong><br><strong>Estado</strong><br>Yucatán<strong><br>Municipio</strong><br>Celestún<strong><br>Dirección</strong><br>Calle 12 núm. 98 entre 15 y 17. Colonia Centro.</p>').addTo(museo);
		
		var casascultura = new L.LayerGroup();
		
		L.marker([20.2411,-98.2119], {icon:casascIcon}).bindPopup('<p><strong><center>Casa de la Cultura Richar Honey</center></strong><br><strong>Estado</strong><br>Puebla<strong><br>Municipio</strong><br>Honey<strong><br>Dirección</strong><br>Calle Estación del Ferrocarril s/n.</p>').addTo(casascultura),
		L.marker([30.625505,-110.970089], {icon:casascIcon}).bindPopup('<p><strong><center>Casa de Cultura de Magdalena de Kino</center></strong><br><strong>Estado</strong><br>Sonora<strong><br>Municipio</strong><br>Magdalena<strong><br>Dirección</strong><br>Hidalgo 119, frente a plaza monumental. Colonia Centro.</p>').addTo(casascultura),
		L.marker([21.880832,-102.296111], {icon:casascIcon}).bindPopup('<p><strong><center>Centro Cultural ISSSTE Aguascalientes</center></strong><br><strong>Estado</strong><br>Aguascalientes<strong><br>Municipio</strong><br>Aguascalientes<strong><br>Dirección</strong><br>Calle Jesús F. Contreras 123. Barrio de San Marcos.</p>').addTo(casascultura);
		
		var hospitales = new L.LayerGroup();
		
		L.marker ([20.634146, -88.215022], {icon:hospitalIcon}).bindPopup('Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut auctor, orci at finibus varius, lectus libero pulvinar neque, sit amet ultrices tellus urna sit amet quam. Suspendisse potenti. Integer in ligula dolor. Maecenas ac rutrum dui, vel consequat lacus. Nulla tincidunt interdum massa, a auctor justo posuere nec. ').addTo(hospitales);
		L.marker ([21.017697, -89.641353], {icon:hospitalIcon}).bindPopup('Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut auctor, orci at finibus varius, lectus libero pulvinar neque, sit amet ultrices tellus urna sit amet quam. Suspendisse potenti. Integer in ligula dolor. Maecenas ac rutrum dui, vel consequat lacus. Nulla tincidunt interdum massa, a auctor justo posuere nec. ').addTo(hospitales);
		L.marker ([20.940761, -89.604274], {icon:hospitalIcon}).bindPopup('Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut auctor, orci at finibus varius, lectus libero pulvinar neque, sit amet ultrices tellus urna sit amet quam. Suspendisse potenti. Integer in ligula dolor. Maecenas ac rutrum dui, vel consequat lacus. Nulla tincidunt interdum massa, a auctor justo posuere nec. ').addTo(hospitales);

		var polygon = new L.LayerGroup ();
		
		L.polygon ([
			[21.641856, -88.138485],
			[21.617166, -87.842857],
			[21.506546, -87.704281], 
			[21.447442, -87.798975],
			[21.533403, -88.125782],
		],
		{
		color:'red',
		}
		).bindPopup('<strong>Río Lagartos</strong></br>Activa la capa de Áreas Naturales Protegidas para saber lo que hay en esta zona').addTo(polygon),
				
		L.polygon ([
			[20.3997, -89.2844],
			[20.5481, -88.8272],
			[20.9331, -89.0174],
			[21.1425, -88.1647],
			[21.0961, -89.2843], 
			
		],
		{
		color:'orange',
		}
		).bindPopup('<strong>La Ruta de museos de Yucatán</strong></br>Activa la capa de Museos para saber lo que hay en esta ruta').addTo(polygon),
		
		L.polygon ([
			[21.101626, -89.579716],
			[21.025512, -89.725324],
			[20.901942, -89.782519], 
			[20.917348, -89.607438],
			[20.981794, -89.551820],
			[21.057106, -89.570016],
		],
		{
		color:'yellow',
		}
		).bindPopup('<strong>Atractivos en Mérida</strong></br> Activa las capas de Zonas Arqueológicas, Museos y Áreas Naturales Protegidas para saber lo que hay en esta ruta').addTo(polygon);

		var linea = new L.LayerGroup ();
		
		L.polyline ([
			[20.947984, -89.762475],
			[21.0326, -89.6302],
			[20.572997, -88.730264],
			[20.541, -88.663], 
			[20.683, -88.568],
		],
		{
		color:'green',
		}
		).bindPopup('<strong>La Ruta Maya</strong></br>Activa las capas de Zonas Arqueológicas y Museos para saber lo que hay en esta ruta').addTo(linea);
		L.polyline ([
			[20.3997, -89.2844],
			[20.5481, -88.8272],
			[20.9331, -89.0174],
			[21.0961, -89.2843], 
			[21.1425, -88.1647],
		],
		{
		color:'purple',
		}
		).bindPopup('<strong>La Ruta de museos de Yucatán</strong></br>Activa la capa de Museos para saber lo que hay en esta ruta').addTo(linea);
		
		var mbAttr = '' +
				'<a href=""> </a>' +
				'',
			mbUrl = 'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpandmbXliNDBjZWd2M2x6bDk3c2ZtOTkifQ._QA7i5Mpkd_m30IGElHziw';

	    var grayscale   =  L.tileLayer(mbUrl, {id: 'mapbox.light', attribution: mbAttr}),
		    streets  = L.tileLayer(mbUrl, {id: 'mapbox.streets',   attribution: mbAttr});

		var map = L.map('map', {
			center: [23.886,-99.998],
			zoom: 5,
			layers: [grayscale, sitios]
		});

		var hash = new L.Hash(map);
		
		var baseLayers = {
			
			"Escala de grises": grayscale,
			"Calles": streets			
		};

		var overlays = {
			"Rutas 1": linea,
			"Zonas arqueológicas": sitios,
			"Rutas 2": polygon,
			"Pueblos mágicos": pueblo,
			"Museos": museo,
			"Áreas Naturales Protegidas": areasnaturales,
			"Hospitales": hospitales
			};
		
		var mcg = L.markerClusterGroup.layerSupport().addTo(map);
        
        
		      
		mcg.checkIn([
          
			linea,
			sitios,
          	pueblo,
			hospitales,
			casascultura,
			museo,
			polygon,
			areasnaturales        
		]);
        
             
		sitios.addTo(map);
		
		map.addControl(new L.Control.Gps({
		style: {
			weight:4,
			radius: 25,
			color: '#E2AE36',
			fill: true,
			opacity:0.8
			}
		}));
		
		L.control.layers(baseLayers, overlays).addTo(map);
		

		
	</script>
</body>
</html>
